[buildout]
extends = code.cfg versions.cfg
parts = mkdirs deploy_ini app
versions = versions
eggs-directory = ./eggs

[omelette]
recipe = collective.recipe.omelette
eggs = ${app:eggs}

[settings]
host = 0.0.0.0
port = 2000
loglevel = INFO
logfiles = ${buildout:directory}/var/log
dsn = sqlite:///${buildout:directory}/data.sql
admin_accesses = ${buildout:directory}/etc/users.ini
zcml_file = ${zcml:output}

[zcml]
recipe = collective.recipe.template
input = ${buildout:directory}/etc/main.zcml.in
output = ${settings:confdir}/main.zcml
extra =
    <include package="trilith.admin" />

[mkdirs]
recipe = z3c.recipe.mkdir
paths =
    ${settings:logfiles}

[app]
recipe = zc.recipe.egg
eggs = Paste
       PasteScript
       PasteDeploy
       Trilith

[deploy_ini]
recipe = collective.recipe.template
input = ${buildout:directory}/etc/deploy.ini.in
output = ${buildout:directory}/deploy.ini
